import{r as c,o as _,c as w,d as u,e as s,w as a,n as f,q as V,E as n,a as g,x,y,z as P}from"./index-c7857d1d.js";/* empty css              */import{r as h}from"./request-2e544c9a.js";const E={style:{width:"50%"}},b={class:"card",style:{padding:"30px"}},v={style:{"text-align":"center"}},S={__name:"Password",setup(B){const e=c({user:JSON.parse(localStorage.getItem("system-user")||"{}")}),m=()=>{if(e.user.newPassword!==e.user.confirmPasword){n.error("确认新密码错误");return}h.put("/updatePassword",e.user).then(r=>{r.code==="200"?(n.success("修改密码成功"),localStorage.removeItem("system-user"),g.push("/login")):n.error(r.msg)})};return(r,o)=>{const l=x,d=y,p=P,i=f;return _(),w("div",E,[u("div",b,[s(i,{model:e.user,"label-width":"100px",style:{"padding-right":"50px"}},{default:a(()=>[s(d,{label:"原密码"},{default:a(()=>[s(l,{disabled:"",modelValue:e.user.password,"onUpdate:modelValue":o[0]||(o[0]=t=>e.user.password=t),"show-password":""},null,8,["modelValue"])]),_:1}),s(d,{label:"新密码"},{default:a(()=>[s(l,{modelValue:e.user.newPassword,"onUpdate:modelValue":o[1]||(o[1]=t=>e.user.newPassword=t),"show-password":""},null,8,["modelValue"])]),_:1}),s(d,{label:"确认新密码"},{default:a(()=>[s(l,{modelValue:e.user.confirmPasword,"onUpdate:modelValue":o[2]||(o[2]=t=>e.user.confirmPasword=t),"show-password":""},null,8,["modelValue"])]),_:1}),u("div",v,[s(p,{type:"primary",onClick:m},{default:a(()=>[V("保存")]),_:1})])]),_:1},8,["model"])])])}}};export{S as default};
