import{_ as h,r as v,S as V,o as b,c as y,d as n,e as r,w as t,n as E,u as m,ag as z,ah as c,q as _,p as I,j as P,E as f,a as R,x as k,y as S,z as q}from"./index-c7857d1d.js";/* empty css              */import{r as B}from"./request-2e544c9a.js";const p=i=>(I("data-v-7296d215"),i=i(),P(),i),U={class:"background-image"},N=p(()=>n("div",{style:{"font-weight":"bold","font-size":"35px","text-align":"center",color:"darkgreen","target-position":"above","padding-top":"50px"}},"健康食谱管理与膳食规划系统",-1)),C={class:"login-box"},F=p(()=>n("div",{style:{"font-weight":"bold","font-size":"28px","text-align":"center","margin-bottom":"30px",color:"#057748"}},"注 册",-1)),j=p(()=>n("div",{style:{"text-align":"right"}},[_(" 还没有账号？请 "),n("a",{href:"/login",style:{color:"#057748"}},"登录")],-1)),M={__name:"Register",setup(i){const o=v({form:{role:"USER"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"},{min:3,max:10,message:"长度在3-10个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:10,message:"长度在3-10个字符",trigger:"blur"}],confirmPassword:[{validator:(a,e,s)=>{e?e!==o.form.password?s(new Error("两次输入密码不一致")):s():s(new Error("请确认密码"))},trigger:"blur"}]}}),u=V(),g=()=>{u.value.validate(a=>{a&&B.post("/register",o.form).then(e=>{e.code==="200"?(f.success("注册成功"),R.push("/login")):f.error(e.msg)})}).catch(a=>{console.error(a)})};return(a,e)=>{const s=k,d=S,x=q,w=E;return b(),y("div",U,[N,n("div",C,[F,r(w,{model:o.form,ref_key:"formRef",ref:u,rules:o.rules},{default:t(()=>[r(d,{prop:"username"},{default:t(()=>[r(s,{"prefix-icon":m(z),size:"large",modelValue:o.form.username,"onUpdate:modelValue":e[0]||(e[0]=l=>o.form.username=l),placeholder:"请输入账号"},null,8,["prefix-icon","modelValue"])]),_:1}),r(d,{prop:"password"},{default:t(()=>[r(s,{"prefix-icon":m(c),size:"large",modelValue:o.form.password,"onUpdate:modelValue":e[1]||(e[1]=l=>o.form.password=l),placeholder:"请输入密码","show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),r(d,{prop:"confirmPassword"},{default:t(()=>[r(s,{"prefix-icon":m(c),size:"large",modelValue:o.form.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=l=>o.form.confirmPassword=l),placeholder:"请确认密码","show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),r(d,null,{default:t(()=>[r(x,{size:"large",type:"success",style:{width:"100%"},onClick:g},{default:t(()=>[_("注 册")]),_:1})]),_:1})]),_:1},8,["model","rules"]),j])])}}},H=h(M,[["__scopeId","data-v-7296d215"]]);export{H as default};
